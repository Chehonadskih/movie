{"remainingRequest":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreichehonadskih/Desktop/test/movie/src/components/MainPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreichehonadskih/Desktop/test/movie/src/components/MainPage.vue","mtime":1632419708751},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzaG93TW92aWUgZnJvbSAnQC9jb21wb25lbnRzL1Nob3dNb3ZpZS9zaG93TW92aWUudnVlJzsKaW1wb3J0IHNob3dzU3Nlc3Npb25UaW1lIGZyb20gJ0AvY29tcG9uZW50cy9TaG93TW92aWUvc2hvd3NTc2Vzc2lvblRpbWUudnVlJzsKaW1wb3J0IHNob3dQbGFjZSBmcm9tICdAL2NvbXBvbmVudHMvU2hvd01vdmllL3Nob3dQbGFjZS52dWUnOwppbXBvcnQgc2hvd1RpY2tldCBmcm9tICdAL2NvbXBvbmVudHMvU2hvd01vdmllL3Nob3dUaWNrZXQudnVlJwppbXBvcnQgeyBnZXRBUEkgfSBmcm9tICdAL0FQSS5qcyc7CmNvbnN0IG1vdmllTGlzdCA9IG5ldyBnZXRBUEkoKTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHNob3dNb3ZpZSwKICAgIHNob3dzU3Nlc3Npb25UaW1lLAogICAgc2hvd1BsYWNlLAogICAgc2hvd1RpY2tldAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIG1vdmllTGlzdDogbnVsbCwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgc2VsZWN0U3Nlc3Npb25UaW1lOiBudWxsLAogICAgICBzaG93c1NzZXNzaW9uVGltZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgb3B0aW9uczogWwogICAgICAgIHsgdmFsdWU6IDAsIHRleHQ6ICdBQ1RJT04nIH0sCiAgICAgICAgeyB2YWx1ZTogMSwgdGV4dDogJ0FEVkVOVFVSRVMnIH0sCiAgICAgICAgeyB2YWx1ZTogMiwgdGV4dDogJ0NPTUVEWScgfSwKICAgICAgICB7IHZhbHVlOiAzLCB0ZXh0OiAnRFJBTUEnIH0sCiAgICAgICAgeyB2YWx1ZTogNCwgdGV4dDogJ0hPUlJPUicgfSwKICAgICAgICB7IHZhbHVlOiA0LCB0ZXh0OiAnV0VTVEVSTlMnIH0KICAgICAgXSwKICAgICAgcGxhY2VEYXRhOiBudWxsLAogICAgICBzaG93RnJlZVBsYWNlOiBmYWxzZSwKICAgICAgdGlja2V0RGF0YTogbnVsbCwKICAgICAgc2hvd1RpY2tldDogZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2g6IHsKICAgIGhhbmRsZXIoKSB7CiAgICAgIHRoaXMuZ2V0TmV3TGlzdCgpOwogICAgfQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIG1vdmllTGlzdC5nZXRMaXN0KCkudGhlbihqc29uRGF0YSA9PiB7CiAgICAgICAgdGhpcy5tb3ZpZUxpc3QgPSBqc29uRGF0YS5kYXRhLmRhdGE7CiAgICAgIH0pCiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKQogICAgfSwKICAgIHNob3dNb3ZpZURhdGEoaXRlbSkgewogICAgICB0aGlzLml0ZW1EYXRhID0gaXRlbTsKICAgICAgdGhpcy5zaG93TW9kYWwgPSB0cnVlOwogICAgfSwKICAgIHNlbGVjdFNzZXNzaW9uKGRhdGEpIHsKICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RTc2Vzc2lvblRpbWUgPSBkYXRhOwogICAgICB0aGlzLnNob3dzU3Nlc3Npb25UaW1lID0gdHJ1ZTsKICAgIH0sCiAgICBnZXROZXdMaXN0KCkgewogICAgICBtb3ZpZUxpc3Quc2VhcmNoRm9yTW92aWUoJycsIHRoaXMuc2VhcmNoLCB0aGlzLnNlbGVjdGVkICkudGhlbihuZXdEYXRhID0+IHsKICAgICAgICB0aGlzLm1vdmllTGlzdCA9IG5ld0RhdGEuZGF0YS5kYXRhOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSkKICAgIH0sCiAgICBzaG93UGxhY2UoZGF0YSkgewogICAgICBtb3ZpZUxpc3Qu0YFoZWNrRnJlZVBsYWNlcyhkYXRhLmlkLCBkYXRhLmRhdGUsIGRhdGEudGltZSkudGhlbihwbGFjZSA9PiB7CiAgICAgICAgdGhpcy5wbGFjZURhdGEgPSB7IGlkOiBkYXRhLmlkLCBkYXRlOiBkYXRhLmRhdGUsIHRpbWU6IGRhdGEudGltZSwgcGxhY2U6IHBsYWNlLmRhdGEuZGF0YSB9OwogICAgICAgIHRoaXMuc2hvd3NTc2Vzc2lvblRpbWUgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dGcmVlUGxhY2UgPSB0cnVlOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSkKICAgIH0sCiAgICB0aWNrZXQoZGF0YSkgewogICAgICB0aGlzLnRpY2tldERhdGEgPSBkYXRhOwogICAgICB0aGlzLnNob3dGcmVlUGxhY2UgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93VGlja2V0ID0gdHJ1ZTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div>\n      <div class=\"search-div\">\n        <label for=\"search\">Название</label>\n        <input type=\"text\" name=\"search\" class=\"form-control\" v-model=\"search\">\n      </div>\n      <div class=\"search-div\">\n        <label for=\"search\">Жанр</label>\n        <b-form-select v-model=\"selected\" :options=\"options\" @change=\"getNewList\"></b-form-select>\n      </div>\n    </div>\n    <div v-if=\"movieList\" style=\"padding-top: 15px\">\n      <div class=\"row\">\n        <template v-for=\"item in movieList\" >\n          <div :key=\"item.id\" class=\"col-md-3 item-container\" @click=\"showMovieData(item)\">\n            <div>\n              <img :src=\"item.image\" :alt=\"item.name\">\n              <h4>{{ item.name }}</h4>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n    <template v-if=\"showModal\">\n      <showMovie :itemData=\"itemData\" @close=\"showModal = false\" @selectSsession=\"selectSsession\" />\n    </template>\n    <template v-if=\"showsSsessionTime\">\n      <showsSsessionTime \n        @close=\"showsSsessionTime = false\" \n        @showPlace=\"showPlace\"\n        :selectSsessionTime=\"selectSsessionTime\" \n      />\n    </template>\n    <template v-if=\"showFreePlace\">\n      <showPlace @close=\"showFreePlace = false\" \n        :placeData=\"placeData\" \n        @showTicket=\"ticket\"\n      />\n    </template>\n    <template v-if=\"showTicket\">\n      <showTicket @close=\"showTicket = false\" :ticketData=\"ticketData\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport showMovie from '@/components/ShowMovie/showMovie.vue';\nimport showsSsessionTime from '@/components/ShowMovie/showsSsessionTime.vue';\nimport showPlace from '@/components/ShowMovie/showPlace.vue';\nimport showTicket from '@/components/ShowMovie/showTicket.vue'\nimport { getAPI } from '@/API.js';\nconst movieList = new getAPI();\nexport default {\n  components: {\n    showMovie,\n    showsSsessionTime,\n    showPlace,\n    showTicket\n  },\n  data() {\n    return {\n      search: '',\n      movieList: null,\n      showModal: false,\n      selectSsessionTime: null,\n      showsSsessionTime: false,\n      selected: '',\n      options: [\n        { value: 0, text: 'ACTION' },\n        { value: 1, text: 'ADVENTURES' },\n        { value: 2, text: 'COMEDY' },\n        { value: 3, text: 'DRAMA' },\n        { value: 4, text: 'HORROR' },\n        { value: 4, text: 'WESTERNS' }\n      ],\n      placeData: null,\n      showFreePlace: false,\n      ticketData: null,\n      showTicket: false\n    }\n  },\n  created() {\n    this.getData();\n  },\n  watch: {\n    search: {\n    handler() {\n      this.getNewList();\n    }\n    },\n  },\n  methods: {\n    getData() {\n      movieList.getList().then(jsonData => {\n        this.movieList = jsonData.data.data;\n      })\n      .catch(err => console.error(err))\n    },\n    showMovieData(item) {\n      this.itemData = item;\n      this.showModal = true;\n    },\n    selectSsession(data) {\n      this.showModal = false;\n      this.selectSsessionTime = data;\n      this.showsSsessionTime = true;\n    },\n    getNewList() {\n      movieList.searchForMovie('', this.search, this.selected ).then(newData => {\n        this.movieList = newData.data.data;\n      })\n      .catch(err => console.error(err))\n    },\n    showPlace(data) {\n      movieList.сheckFreePlaces(data.id, data.date, data.time).then(place => {\n        this.placeData = { id: data.id, date: data.date, time: data.time, place: place.data.data };\n        this.showsSsessionTime = false;\n        this.showFreePlace = true;\n      })\n      .catch(err => console.error(err))\n    },\n    ticket(data) {\n      this.ticketData = data;\n      this.showFreePlace = false;\n      this.showTicket = true;\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .item-container {\n    cursor: pointer;\n    padding: 10px;\n    border-radius: 0.25rem;\n    transition: 0.5s;\n  }\n  .item-container > div {\n    padding: 10px 0 0 0;\n    text-align: center;\n  }\n  .item-container > div > img {\n    width: 90%;\n  }\n  .item-container:hover {\n    background: #d8d8d8;\n  }\n  .search-div {\n    margin-bottom: 10px\n  }\n</style>\n"]}]}