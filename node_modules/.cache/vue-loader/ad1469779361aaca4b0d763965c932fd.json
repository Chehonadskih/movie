{"remainingRequest":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreichehonadskih/Desktop/test/movie/src/components/MainPage.vue?vue&type=style&index=0&id=109177d0&scoped=true&lang=css&","dependencies":[{"path":"/Users/andreichehonadskih/Desktop/test/movie/src/components/MainPage.vue","mtime":1632419708751},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreichehonadskih/Desktop/test/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLml0ZW0tY29udGFpbmVyIHsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXItcmFkaXVzOiAwLjI1cmVtOwogIHRyYW5zaXRpb246IDAuNXM7Cn0KLml0ZW0tY29udGFpbmVyID4gZGl2IHsKICBwYWRkaW5nOiAxMHB4IDAgMCAwOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouaXRlbS1jb250YWluZXIgPiBkaXYgPiBpbWcgewogIHdpZHRoOiA5MCU7Cn0KLml0ZW0tY29udGFpbmVyOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZDhkOGQ4Owp9Ci5zZWFyY2gtZGl2IHsKICBtYXJnaW4tYm90dG9tOiAxMHB4Cn0K"},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div>\n      <div class=\"search-div\">\n        <label for=\"search\">Название</label>\n        <input type=\"text\" name=\"search\" class=\"form-control\" v-model=\"search\">\n      </div>\n      <div class=\"search-div\">\n        <label for=\"search\">Жанр</label>\n        <b-form-select v-model=\"selected\" :options=\"options\" @change=\"getNewList\"></b-form-select>\n      </div>\n    </div>\n    <div v-if=\"movieList\" style=\"padding-top: 15px\">\n      <div class=\"row\">\n        <template v-for=\"item in movieList\" >\n          <div :key=\"item.id\" class=\"col-md-3 item-container\" @click=\"showMovieData(item)\">\n            <div>\n              <img :src=\"item.image\" :alt=\"item.name\">\n              <h4>{{ item.name }}</h4>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n    <template v-if=\"showModal\">\n      <showMovie :itemData=\"itemData\" @close=\"showModal = false\" @selectSsession=\"selectSsession\" />\n    </template>\n    <template v-if=\"showsSsessionTime\">\n      <showsSsessionTime \n        @close=\"showsSsessionTime = false\" \n        @showPlace=\"showPlace\"\n        :selectSsessionTime=\"selectSsessionTime\" \n      />\n    </template>\n    <template v-if=\"showFreePlace\">\n      <showPlace @close=\"showFreePlace = false\" \n        :placeData=\"placeData\" \n        @showTicket=\"ticket\"\n      />\n    </template>\n    <template v-if=\"showTicket\">\n      <showTicket @close=\"showTicket = false\" :ticketData=\"ticketData\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport showMovie from '@/components/ShowMovie/showMovie.vue';\nimport showsSsessionTime from '@/components/ShowMovie/showsSsessionTime.vue';\nimport showPlace from '@/components/ShowMovie/showPlace.vue';\nimport showTicket from '@/components/ShowMovie/showTicket.vue'\nimport { getAPI } from '@/API.js';\nconst movieList = new getAPI();\nexport default {\n  components: {\n    showMovie,\n    showsSsessionTime,\n    showPlace,\n    showTicket\n  },\n  data() {\n    return {\n      search: '',\n      movieList: null,\n      showModal: false,\n      selectSsessionTime: null,\n      showsSsessionTime: false,\n      selected: '',\n      options: [\n        { value: 0, text: 'ACTION' },\n        { value: 1, text: 'ADVENTURES' },\n        { value: 2, text: 'COMEDY' },\n        { value: 3, text: 'DRAMA' },\n        { value: 4, text: 'HORROR' },\n        { value: 4, text: 'WESTERNS' }\n      ],\n      placeData: null,\n      showFreePlace: false,\n      ticketData: null,\n      showTicket: false\n    }\n  },\n  created() {\n    this.getData();\n  },\n  watch: {\n    search: {\n    handler() {\n      this.getNewList();\n    }\n    },\n  },\n  methods: {\n    getData() {\n      movieList.getList().then(jsonData => {\n        this.movieList = jsonData.data.data;\n      })\n      .catch(err => console.error(err))\n    },\n    showMovieData(item) {\n      this.itemData = item;\n      this.showModal = true;\n    },\n    selectSsession(data) {\n      this.showModal = false;\n      this.selectSsessionTime = data;\n      this.showsSsessionTime = true;\n    },\n    getNewList() {\n      movieList.searchForMovie('', this.search, this.selected ).then(newData => {\n        this.movieList = newData.data.data;\n      })\n      .catch(err => console.error(err))\n    },\n    showPlace(data) {\n      movieList.сheckFreePlaces(data.id, data.date, data.time).then(place => {\n        this.placeData = { id: data.id, date: data.date, time: data.time, place: place.data.data };\n        this.showsSsessionTime = false;\n        this.showFreePlace = true;\n      })\n      .catch(err => console.error(err))\n    },\n    ticket(data) {\n      this.ticketData = data;\n      this.showFreePlace = false;\n      this.showTicket = true;\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .item-container {\n    cursor: pointer;\n    padding: 10px;\n    border-radius: 0.25rem;\n    transition: 0.5s;\n  }\n  .item-container > div {\n    padding: 10px 0 0 0;\n    text-align: center;\n  }\n  .item-container > div > img {\n    width: 90%;\n  }\n  .item-container:hover {\n    background: #d8d8d8;\n  }\n  .search-div {\n    margin-bottom: 10px\n  }\n</style>\n"]}]}